<xml xmlns="http://www.w3.org/1999/xhtml">
  <variables>
    <variable type="KIND_SpriteKind" id="z3vNXBY_`^TE;(XlU}#i">Rock</variable>
    <variable type="KIND_SpriteKind" id="fe%GM[7q[x*bG6gd;.Ty">Player</variable>
    <variable type="KIND_SpriteKind" id="#4@F.5GXeFDATk`0btQI">Projectile</variable>
    <variable type="KIND_SpriteKind" id="|$_UI_}VB/S~A=,#9IA?">Food</variable>
    <variable type="KIND_SpriteKind" id="[nC=^x]C=)u7foONJw!j">Enemy</variable>
    <variable type="" id="3@*=_*~P#85=mk6(WeAH">tile</variable>
  </variables>
  <comment data="0" x="0" y="0" h="120" w="480">TileWorld.onTileArrived(SpriteKind.Player, function (tile, direction) { tile.setCode(1) tile.hasNoCode(11, direction, _tileDir(TileDir.None)) tile.hasNoCode(10, direction, _tileDir(TileDir.None)) tile.hasNoCode(12, direction, _tileDir(TileDir.None)) tile.moveOne(direction) }) TileWorld.onTileTransition(SpriteKind.Player, function (tile) { tile.hasCode(6, TileDir.None, TileDir.None) }) TileWorld.onTileArrived(SpriteKind.Player, function (tile, direction) { TileWorld.isOneOf(direction, TileDir.Left, TileDir.Right) tile.hasCode(11, direction, TileDir.None) tile.hasCode(1, direction, direction) })</comment>
  <block type="pxt-on-start" x="90" y="130">
    <statement name="HANDLER">
      <block type="TWsettilemap">
        <data>0</data>
        <value name="map">
          <shadow type="tilemap_image_picker">
            <field name="img">img`
c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c 
c d d d d d d d d d d b d d d d d d b d d d d d d d d d d d d c 
c d d d d d 6 d d d d b d d d d d d b d d d d d d d d d d d d c 
c d d 7 d d b d d d d b d d d d d d b d d d d b d d d d d d d c 
c d d d d d 1 d d d d d d d d d d d b 1 1 d d d d d d b d d d c 
c a a a a a a a a a a a a a a a a a a 1 1 d d d d d b d d d d c 
c d d d d d d d d d d d d d d d d d d 1 1 d d d 6 b b b b b d c 
c d d d b d d d d d d d d d d d d d d 1 1 6 d d d d b d d d d c 
c d d d d d d d d d d d d d d 6 d d d 1 1 d d d d d d b d d d c 
c d d d d d d d d a a a a a a a a a a a a a a a a a a a a a a c 
c d 1 d d d d 6 d d d d d d d d 1 1 1 1 1 1 1 1 1 1 2 d d d d c 
c d 1 1 d d b b b d d d d d d d d d d d d 6 d d d d d d d d d c 
c d 1 d d d d 6 d d d d d d d d d d d d 6 6 6 d d d d d d d d c 
c d b d d d d d d d d d d d d d d d d d d 6 d d d d d d d d d c 
c d d d d d d d d d d d d d d d d d d d d d d d d d d d d d d c 
c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c 
`
            </field>
          </shadow>
        </value>
        <next>
          <block type="TWsetbackgroundtile">
            <value name="color">
              <shadow type="colorindexpicker">
                <field name="index">1</field>
              </shadow>
            </value>
            <next>
              <block type="TWsetsprite">
                <value name="index">
                  <shadow type="colorindexpicker">
                    <field name="index">7</field>
                  </shadow>
                </value>
                <value name="img">
                  <shadow type="tile_image_picker">
                    <field name="img">img`
. . . . . . f f f f . . . . . . 
. . . . f f f 2 2 f f f . . . . 
. . . f f f 2 3 2 2 f f f . . . 
. . f f f e e e e e e f f f . . 
. . f f e 2 2 2 2 2 2 e e f . . 
. . f e 2 f f f f f f 2 e f . . 
. . f f f f e e e e f f f f . . 
. f f e f b f 4 4 f b f e f f . 
. f e e 4 1 f d d f 1 4 e e f . 
. . f e e d d d d d d e e f . . 
. . . f e e 4 4 4 4 e e f . . . 
. . e 4 f 2 2 2 2 2 2 f 4 e . . 
. . 4 d f 2 2 2 2 2 2 f d 4 . . 
. . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
. . . . . f f f f f f . . . . . 
. . . . . f f . . f f . . . . . 
`
                    </field>
                  </shadow>
                </value>
                <value name="kind">
                  <shadow type="spritekind">
                    <field name="MEMBER">Player</field>
                  </shadow>
                </value>
                <next>
                  <block type="TWsetsprite">
                    <value name="index">
                      <shadow type="colorindexpicker">
                        <field name="index">6</field>
                      </shadow>
                    </value>
                    <value name="img">
                      <shadow type="tile_image_picker">
                        <field name="img">img`
. . . . 8 8 8 8 8 8 8 8 . . . . 
. . . 8 8 9 9 9 9 9 9 1 1 . . . 
. . 8 8 8 8 9 9 9 9 1 1 1 1 . . 
. 8 8 8 8 8 8 9 9 1 1 1 1 1 1 . 
8 8 8 8 8 8 8 8 1 1 1 1 1 1 1 1 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 1 1 1 1 1 1 1 1 
. 9 9 9 9 9 9 9 1 1 1 1 1 1 1 . 
. . 9 9 9 9 9 9 1 1 1 1 1 1 . . 
. . . 9 9 9 9 9 1 1 1 1 1 . . . 
. . . . 9 9 9 9 1 1 1 1 . . . . 
. . . . . 9 9 9 1 1 1 . . . . . 
. . . . . . 9 9 1 1 . . . . . . 
. . . . . . . 9 1 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
                        </field>
                      </shadow>
                    </value>
                    <value name="kind">
                      <shadow type="spritekind">
                        <field name="MEMBER">Rock</field>
                      </shadow>
                    </value>
                    <next>
                      <block type="TWsetsprite">
                        <value name="index">
                          <shadow type="colorindexpicker">
                            <field name="index">11</field>
                          </shadow>
                        </value>
                        <value name="img">
                          <shadow type="tile_image_picker">
                            <field name="img">img`
. . . . . c c b b b . . . . . . 
. . . . c b d d d d b . . . . . 
. . . . c d d d d d d b b . . . 
. . . . c d d d d d d d d b . . 
. . . c b b d d d d d d d b . . 
. . . c b b d d d d d d d b . . 
. c c c c b b b b d d d b b b . 
. c d d b c b b b b b b b b d b 
c b b d d d b b b b b d d b d b 
c c b b d d d d d d d b b b d c 
c b c c c b b b b b b b d d c c 
c c b b c c c c b d d d b c c b 
. c c c c c c c c c c c b b b b 
. . c c c c c b b b b b b b c . 
. . . . . . c c b b b b c c . . 
. . . . . . . . c c c c . . . . 
`
                            </field>
                          </shadow>
                        </value>
                        <value name="kind">
                          <shadow type="spritekind">
                            <field name="MEMBER">Rock</field>
                          </shadow>
                        </value>
                        <next>
                          <block type="TWsettile">
                            <value name="index">
                              <shadow type="colorindexpicker">
                                <field name="index">10</field>
                              </shadow>
                            </value>
                            <value name="img">
                              <shadow type="tile_image_picker">
                                <field name="img">img`
d d d d d d d d d d d d d d d 8 
d 6 6 6 8 8 8 6 6 6 6 6 6 6 8 8 
d 6 6 8 6 6 6 8 6 6 6 6 6 6 8 8 
d 6 8 6 8 8 8 6 8 8 8 8 8 8 8 8 
d 8 6 8 8 d 8 8 6 6 6 6 6 6 8 8 
d 8 6 8 d d d 8 6 8 8 8 8 8 6 8 
d 8 6 8 8 d 8 8 6 6 6 6 6 6 8 8 
d 6 8 6 8 8 8 6 8 8 8 8 8 8 8 8 
d 6 6 6 6 6 6 6 6 8 6 6 6 6 8 8 
d 8 8 8 6 6 6 6 6 8 8 6 6 8 6 8 
d 6 6 6 6 6 6 6 6 8 8 8 8 8 6 8 
d 8 8 8 6 6 6 6 6 6 6 6 6 6 6 8 
d 6 6 6 6 6 6 6 6 6 6 6 6 6 6 8 
d 8 8 8 8 6 6 6 6 8 8 8 8 8 6 8 
d 6 6 6 6 6 6 6 8 8 6 6 6 8 6 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
`
                                </field>
                              </shadow>
                            </value>
                            <next>
                              <block type="TWsettile">
                                <value name="index">
                                  <shadow type="colorindexpicker">
                                    <field name="index">12</field>
                                  </shadow>
                                </value>
                                <value name="img">
                                  <shadow type="tile_image_picker">
                                    <field name="img">img`
d d d d d d d d d d d d d d d 8 
d 6 6 6 8 8 8 6 6 6 6 6 6 6 8 8 
d 6 6 8 6 6 6 8 6 6 6 6 6 6 8 8 
d 6 8 6 8 8 8 6 8 8 8 8 8 8 8 8 
d 8 6 8 8 d 8 8 6 6 6 6 6 6 8 8 
d 8 6 8 d d d 8 6 8 8 8 8 8 6 8 
d 8 6 8 8 d 8 8 6 6 6 6 6 6 8 8 
d 6 8 6 8 8 8 6 8 8 8 8 8 8 8 8 
d 6 6 6 6 6 6 6 6 8 6 6 6 6 8 8 
d 8 8 8 6 6 6 6 6 8 8 6 6 8 6 8 
d 6 6 6 6 6 6 6 6 8 8 8 8 8 6 8 
d 8 8 8 6 6 6 6 6 6 6 6 6 6 6 8 
d 6 6 6 6 6 6 6 6 6 6 6 6 6 6 8 
d 8 8 8 8 6 6 6 6 8 8 8 8 8 6 8 
d 6 6 6 6 6 6 6 8 8 6 6 6 8 6 8 
8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 8 
`
                                    </field>
                                  </shadow>
                                </value>
                                <next>
                                  <block type="TWsettile">
                                    <value name="index">
                                      <shadow type="colorindexpicker">
                                        <field name="index">13</field>
                                      </shadow>
                                    </value>
                                    <value name="img">
                                      <shadow type="tile_image_picker">
                                        <field name="img">img`
f e e e e e f e e e e 4 4 4 4 e 
e e 4 4 e e e f f f e e e e e e 
e 4 4 4 4 4 e e f f f f f e e e 
e 4 4 4 4 4 4 e f e e e e e f e 
e 4 4 4 4 4 4 e f e 4 4 4 4 e f 
e e 4 4 4 4 4 f e 4 4 4 4 4 4 e 
e e e 4 4 4 e e e 4 4 4 4 4 4 e 
f f e e e e e f e 4 4 4 4 4 4 e 
f e e e 4 4 4 e f e 4 4 4 4 e e 
f e e 4 4 4 4 4 e e e e 4 4 e f 
e e 4 4 4 4 4 4 4 e f e e e e f 
f e 4 4 4 4 4 4 4 e e f f f e e 
f e 4 4 4 4 4 4 4 e f e e e e f 
e f e 4 4 4 4 4 e f e 4 4 e e e 
e e f e 4 4 4 e f e 4 4 4 4 e e 
f e e f e e e f e 4 4 4 4 4 4 e 
`
                                        </field>
                                      </shadow>
                                    </value>
                                    <next>
                                      <block type="TWsettile">
                                        <value name="index">
                                          <shadow type="colorindexpicker">
                                            <field name="index">1</field>
                                          </shadow>
                                        </value>
                                        <value name="img">
                                          <shadow type="tile_image_picker">
                                            <field name="img">img`
f f f f f f f f f f f c c c c f 
f f c c f f f f f f f f f f f f 
f c c c c c f f f f f f f f f f 
f c c c c c c f f f f f f f f f 
f c c c c c c f f f c c c c f f 
f f c c c c c f f c c c c c c f 
f f f c c c f f f c c c c c c f 
f f f f f f f f f c c c c c c f 
f f f f c c c f f f c c c c f f 
f f f c c c c c f f f f c c f f 
f f c c c c c c c f f f f f f f 
f f c c c c c c c f f f f f f f 
f f c c c c c c c f f f f f f f 
f f f c c c c c f f f c c f f f 
f f f f c c c f f f c c c c f f 
f f f f f f f f f c c c c c c f 
`
                                            </field>
                                          </shadow>
                                        </value>
                                        <next>
                                          <block type="TWmoveButtons">
                                            <value name="kind">
                                              <shadow type="spritekind">
                                                <field name="MEMBER">Player</field>
                                              </shadow>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="TWontilearrived" x="470" y="530">
    <value name="HANDLER_DRAG_PARAM_tile">
      <shadow type="argument_reporter_custom">
        <mutation typename="TileSprite"></mutation>
        <field name="VALUE">tile</field>
      </shadow>
    </value>
    <value name="kind">
      <shadow type="spritekind">
        <field name="MEMBER">Player</field>
      </shadow>
    </value>
    <value name="HANDLER_DRAG_PARAM_direction">
      <shadow type="argument_reporter_custom">
        <mutation typename="TileDir"></mutation>
        <field name="VALUE">direction</field>
      </shadow>
    </value>
    <statement name="HANDLER">
      <block type="TWmove">
        <value name="this">
          <block type="variables_get">
            <field name="VAR" id="3@*=_*~P#85=mk6(WeAH" variabletype="">tile</field>
          </block>
        </value>
        <value name="dir">
          <shadow type="tiledir" id="4mWh*V8PMAlRbB.[IXvH">
            <field name="dir">TileDir.None</field>
          </shadow>
          <block type="argument_reporter_custom">
            <mutation typename="TileDir"></mutation>
            <field name="VALUE">direction</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
</xml>